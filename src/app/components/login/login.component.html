<div class="container-fluid bg-texture-black h-100 p-0">
  <nav class="navbar navbar-light bg-light navbar-expand-lg ff-kanit collapse" id="navbarNav" *ngIf="!activeNav">
    <a class="navbar-brand" href="#">
      <img src="../../../assets/img/oso.png" width="25" height="25" alt="Logo">
    </a>
    <button type="button" class="bg-transparent border-transparent" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" (click)="navActive()">
      <i class="fas fa-bars text-dark"></i>
    </button>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto row w-50 text-center">
        <li class="nav-item col-4">
          <a class="nav-link" href="#">CINE Y SERIES</a>
        </li>
        <li class="nav-item col-4">
          <a class="nav-link" href="#">MUSICA</a>
        </li>
        <li class="nav-item col-4">
          <a class="nav-link" href="#">PINTURA Y ARTE</a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#">
            <img src="../../../assets/img/carrito.png" width="25" height="25" alt="Carrito">
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">
              <img src="../../../assets/img/user.png" width="25" height="25" alt="User">
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="navbar navbar-light bg-transparent navbar-expand-lg ff-kanit ml-0 pl-0" *ngIf="activeNav">
    <div class="bg-white">
      <a class="navbar-brand ml-5 mr-5" href="#">
        <img src="../../../assets/img/oso.png" width="25" height="25" alt="Logo">
      </a>
      <button type="button" class="bg-transparent border-transparent" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" (click)="navActive()">
        <i class="fas fa-bars text-dark"></i>
      </button>
    </div> 
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" href="#">
          <img src="../../../assets/img/carrito-white.png" width="25" height="25" alt="Carrito">
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">
          <img src="../../../assets/img/user-white.png" width="25" height="25" alt="User">
        </a>
      </li>
    </ul>
  </nav>
  <div *ngIf="!cargo" class="text-center img-fluid mt-10">
    <img src="../../../assets/img/oso.png" id="loadOso">
  </div>

  <div *ngIf="cargo" class="mt-10">
    <h3 class="text-center text-white pb-2 ff-kanit font-weight-bold">INICIAR SESION</h3>
    <div class="alert alert-danger" role="alert" *ngIf="correoError!=null">
      <a class="alert-link">{{correoError}}</a> {{error}}
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="errorPassword!=null">
      {{error}}
    </div>
    <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="w-25 mx-auto"> 
      
      <div class="form-group row">
        <div class="col">
          <input
            type="email"
            class="form-control rounded-4 bg-input border border-dark ff-kanit"
            name="correo"
            #correo="ngModel"
            [(ngModel)]="loginService.selectedusuario.correo"
            placeholder="Correo"
          >
        </div>

        <div style="font-size: 1.6em" class='text-danger col-1' *ngIf='!correo.value.includes("@") || !correo.value.includes(".") || correo.value.includes(" ") ' >
          <i class="fas fa-exclamation-circle"></i>
        </div>
      </div> 

      <div class="form-group">
        <input
          type="password"
          class="form-control rounded-4 bg-input border border-dark ff-kanit"
          name="contrasenia"
          #contrasenia="ngModel"
          [(ngModel)]="loginService.selectedusuario.contrasenia"
          placeholder="Contraseña"
        >
      </div>

      <div class="form-group text-center pt-2">
        <button class="ff-kanit bg-transparent font-weight-bold border-transparent text-white" type="submit">
          ENTRAR
        </button>
      </div>
    </form>
    <p class="text-center">
      <a href="/registro" class="ff-kanit text-white">¿No te has registrado?</a>
    </p>
    <p class="text-center">
      <a class="ff-kanit text-white" data-toggle="modal" data-target="#resetModal">¿Olvidaste tu contraseña?</a>
    </p>
    <div class="modal fade" id="resetModal" tabindex="-1" role="dialog" aria-labelledby="resetModalLabel" aria-hidden="true">
      
      <h5 class="text-center pb-2 ff-kanit font-weight-bold" id="exampleModalLabel">Reestablece tu contraseña</h5>
      <div id="resetFormSlide" class="carousel slide carousel-fade" data-ride="carousel" data-interval=false>
        <form #resetForm="ngForm" (ngSubmit)="onSubmitReset(resetForm, 0)" class="carousel-item" [ngClass]="{'active':this.slides[0]}">
          <div class="form-group row">
            <div class="col">
              <input
                type="email"
                class="form-control rounded-4 bg-input border border-dark ff-kanit"
                name="resetCorreo"
                #resetCorreo="ngModel"
                [(ngModel)]="loginService.selectedusuario.correo"
                placeholder="Correo"
              >
            </div>
    
            <div style="font-size: 1.6em" class='text-danger col-1' *ngIf='!correo.value.includes("@") || !correo.value.includes(".") || correo.value.includes(" ") ' >
              <i class="fas fa-exclamation-circle"></i>
            </div>
          </div>
          <div class="form-group text-center pt-2">
            <button class="btn btn-outline-warning" type="submit" [disabled]="correo.value==Null || correo.value==''">
              Siguiente
            </button>
          </div>
        </form>
        <div class="carousel-item" [ngClass]="{'active':this.slides[1]}">
          <div class="form-group row">
            <div class="col">
              <input
                type="number"
                class="form-control rounded-4 bg-input border border-dark ff-kanit"
                name="codigoInput"
                [(ngModel)]="loginService.selectedusuario.codigo"
                #codigoInput="ngModel"
                placeholder="Codigo"
              >
            </div>
            <div style="font-size: 1.6em" class='text-danger col-1' *ngIf='(codigoInput.value!==this.serverCode) && (codigoInput.value!==null)'>
              <i class="fas fa-exclamation-circle"></i>
            </div>
          </div>
          <div class="form-group text-center pt-2">
            <button class="btn btn-outline-warning" (click)="nextSlide(2)" [disabled]="(codigoInput.value!==this.serverCode) && (codigoInput.value!==null)">
              Siguiente
            </button>
          </div>
        </div>
        <form #updatePasswordForm="ngForm" (ngSubmit)="onSubmitPassword(updatePasswordForm, 2)" class="carousel-item" [ngClass]="{'active':this.slides[2]}">
          <div class="form-group">
            <input
              type="password"
              class="form-control rounded-4 bg-input border border-dark ff-kanit"
              name="contrasenia"
              #contrasenia="ngModel"
              [(ngModel)]="loginService.selectedUpdateUsuario.contrasenia"
              placeholder="Nueva contraseña"
            >
          </div>
              
          <div class="form-group row">
            <div class="col">
                <input
                  type="password"
                  class="form-control rounded-4 bg-input border border-dark ff-kanit"
                  name="confirmar"
                  #confirmar="ngModel"
                  [(ngModel)]="loginService.selectedUpdateUsuario.confirmar"
                  placeholder="Confirmar contraseña"
                >
              </div>
          
            <div style="font-size: 1.6em" class='text-danger col-1' *ngIf='contrasenia.value!==confirmar.value && confirmar.value!==Null'>
              <i class="fas fa-exclamation-circle"></i>
            </div>
          </div>
          <div class="form-group text-center pt-2">
            <button class="btn btn-outline-warning" type="submit">
              Enviar
            </button>
          </div>
        </form>
      </div>
  </div>
</div>